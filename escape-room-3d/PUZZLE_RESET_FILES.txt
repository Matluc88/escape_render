ğŸ“ FILE MODIFICATI PER SISTEMA RESET ENIGMI
================================================

ğŸ”§ BACKEND (3 file)
-------------------
1. backend/app/services/puzzle_service.py
   - Aggiunto metodo: reset_puzzles_for_session()
   - Resetta tutti gli enigmi di una sessione (soft reset)

2. backend/app/api/puzzles.py
   - Aggiunto endpoint: POST /api/puzzles/session/{session_id}/reset
   - Gestisce il reset degli enigmi via API

ğŸ¨ FRONTEND (1 file)
-------------------
3. src/pages/admin/Lobby.jsx
   - Aggiunto pulsante: "ğŸ”„ RESET ENIGMI" (arancione)
   - Aggiunta funzione: handleResetPuzzles()
   - Conferma prima del reset
   - Messaggi di successo/errore

ğŸ“š DOCUMENTAZIONE (3 file)
--------------------------
4. PUZZLE_RESET_SYSTEM.md
   - Guida completa funzionalitÃ 
   - Casi d'uso
   - Dettagli tecnici
   - Test

5. DEPLOY_PUZZLE_RESET.md
   - Guida deploy su Raspberry Pi
   - Istruzioni trasferimento file
   - Verifica e troubleshooting

6. deploy-puzzle-reset.sh
   - Script automatico deploy Docker
   - Rebuild backend + frontend
   - Verifica stato

7. PUZZLE_RESET_FILES.txt
   - Questo file (lista modifiche)

================================================

ğŸš€ DEPLOY RAPIDO SU RASPBERRY PI
================================================

Opzione 1 - Comandi Rapidi (SCP):
----------------------------------
cd /Users/matteo/Desktop/ESCAPE

scp escape-room-3d/backend/app/api/puzzles.py pi@raspberry.local:~/escape-room-3d/backend/app/api/
scp escape-room-3d/backend/app/services/puzzle_service.py pi@raspberry.local:~/escape-room-3d/backend/app/services/
scp escape-room-3d/src/pages/admin/Lobby.jsx pi@raspberry.local:~/escape-room-3d/src/pages/admin/
scp escape-room-3d/deploy-puzzle-reset.sh pi@raspberry.local:~/escape-room-3d/
scp escape-room-3d/*.md pi@raspberry.local:~/escape-room-3d/

# Poi sul Raspberry Pi:
ssh pi@raspberry.local
cd ~/escape-room-3d
chmod +x deploy-puzzle-reset.sh
./deploy-puzzle-reset.sh


Opzione 2 - rsync (PiÃ¹ efficiente):
------------------------------------
cd /Users/matteo/Desktop/ESCAPE

rsync -avz --progress escape-room-3d/backend/app/api/puzzles.py pi@raspberry.local:~/escape-room-3d/backend/app/api/
rsync -avz --progress escape-room-3d/backend/app/services/puzzle_service.py pi@raspberry.local:~/escape-room-3d/backend/app/services/
rsync -avz --progress escape-room-3d/src/pages/admin/Lobby.jsx pi@raspberry.local:~/escape-room-3d/src/pages/admin/
rsync -avz --progress escape-room-3d/deploy-puzzle-reset.sh pi@raspberry.local:~/escape-room-3d/
rsync -avz --progress escape-room-3d/PUZZLE_RESET_SYSTEM.md pi@raspberry.local:~/escape-room-3d/
rsync -avz --progress escape-room-3d/DEPLOY_PUZZLE_RESET.md pi@raspberry.local:~/escape-room-3d/

# Poi sul Raspberry Pi:
ssh pi@raspberry.local
cd ~/escape-room-3d
chmod +x deploy-puzzle-reset.sh
./deploy-puzzle-reset.sh


Opzione 3 - Script Completo (Copia e incolla):
-----------------------------------------------
cd /Users/matteo/Desktop/ESCAPE && \
scp escape-room-3d/backend/app/api/puzzles.py pi@raspberry.local:~/escape-room-3d/backend/app/api/ && \
scp escape-room-3d/backend/app/services/puzzle_service.py pi@raspberry.local:~/escape-room-3d/backend/app/services/ && \
scp escape-room-3d/src/pages/admin/Lobby.jsx pi@raspberry.local:~/escape-room-3d/src/pages/admin/ && \
scp escape-room-3d/deploy-puzzle-reset.sh pi@raspberry.local:~/escape-room-3d/ && \
scp escape-room-3d/PUZZLE_RESET_SYSTEM.md pi@raspberry.local:~/escape-room-3d/ && \
scp escape-room-3d/DEPLOY_PUZZLE_RESET.md pi@raspberry.local:~/escape-room-3d/ && \
echo "âœ… File trasferiti con successo!" && \
echo "Ora connettiti al Raspberry Pi ed esegui:" && \
echo "  ssh pi@raspberry.local" && \
echo "  cd ~/escape-room-3d" && \
echo "  chmod +x deploy-puzzle-reset.sh" && \
echo "  ./deploy-puzzle-reset.sh"

================================================

ğŸ“‹ CHECKLIST DEPLOY
================================================
Prima del deploy:
â˜ Backup database (opzionale)
â˜ Verifica connessione SSH al Raspberry Pi
â˜ Verifica spazio disco su Raspberry Pi

Trasferimento file:
â˜ Trasferisci file backend
â˜ Trasferisci file frontend
â˜ Trasferisci script e documentazione

Deploy:
â˜ Esegui deploy-puzzle-reset.sh
â˜ Attendi rebuild container (puÃ² richiedere 5-10 min)
â˜ Verifica stato container (docker-compose ps)

Test:
â˜ Test API: curl -X POST http://localhost/api/puzzles/session/1/reset
â˜ Test UI: Verifica pulsante in lobby
â˜ Test completo: Risolvi enigmi â†’ Reset â†’ Verifica

================================================

ğŸ¯ RISULTATO FINALE
================================================
Dopo il deploy, nella lobby admin troverai:

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ® Lobby - Sessione #1            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                     â”‚
â”‚  ğŸ‘¥ Giocatori Connessi: 3          â”‚
â”‚                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ ğŸš€ VIA!   â”‚ ğŸ”„ RESET  â”‚ ğŸ›‘   â”‚  â”‚
â”‚  â”‚           â”‚   ENIGMI  â”‚ESPELLIâ”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Il pulsante "ğŸ”„ RESET ENIGMI" permette di:
âœ… Resettare tutti i 13 enigmi
âœ… Mantenere i giocatori connessi
âœ… Mantenere la sessione attiva
âœ… Ricominciare da zero senza ricreare tutto

================================================
Fine - Creato il 17/01/2026