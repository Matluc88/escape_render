<!DOCTYPE html>
<html>
<head>
    <title>DEBUG PENTOLA - BOXHELPER FORZATO</title>
    <meta charset="UTF-8">
</head>
<body>
<h1>ğŸ” DEBUG PENTOLA - BOXHELPER FORZATO</h1>
<p><strong>Questo script aggiungerÃ  un BOX ROSSO ENORME sempre visibile sulla pentola!</strong></p>

<pre style="background: #f5f5f5; padding: 20px; border-radius: 5px; overflow-x: auto;">
<code>
// DEBUG PENTOLA - BOXHELPER GIGANTE FORZATO
console.clear();
console.log('ğŸ” DEBUG PENTOLA - AGGIUNTA BOXHELPER GIGANTE');
console.log('');

const scene = window.__DEBUG?.scene;
if (!scene) {
  console.error('âŒ Scene non trovata');
  throw new Error('Scene not found');
}

// Trova pentola
let pentola = null;
scene.traverse(n => {
  if(n.name && n.name.includes('FC640F14-10EB-486E-8AED-5773C59DA9E0')) {
    pentola = n;
  }
});

if (!pentola) {
  console.error('âŒ PENTOLA NON TROVATA!');
  throw new Error('Pentola not found');
}

console.log('âœ… Pentola trovata:', pentola.name);

// Posizione world
const worldPos = new THREE.Vector3();
pentola.getWorldPosition(worldPos);
console.log('ğŸŒ Posizione world pentola:', worldPos);

// AGGIUNGI BOXHELPER GIGANTE ROSSO
const box = new THREE.BoxHelper(pentola, 0xff0000); // ROSSO
box.material.linewidth = 10; // Linee spesse
box.renderOrder = 999; // Renderizza sempre sopra
box.material.depthTest = false; // Ignora depth test
box.material.depthWrite = false;
scene.add(box);
console.log('âœ… BoxHelper rosso aggiunto alla scena');

// AGGIUNGI SFERA VERDE ALLA POSIZIONE WORLD
const sphereGeom = new THREE.SphereGeometry(0.5, 16, 16);
const sphereMat = new THREE.MeshBasicMaterial({ 
  color: 0x00ff00,
  depthTest: false,
  depthWrite: false
});
const sphere = new THREE.Mesh(sphereGeom, sphereMat);
sphere.position.copy(worldPos);
sphere.renderOrder = 1000;
scene.add(sphere);
console.log('âœ… Sfera verde aggiunta alla posizione world della pentola');

// AGGIUNGI LINEA DALLA CAMERA ALLA PENTOLA
const camera = window.__DEBUG?.camera;
if (camera) {
  const cameraPos = new THREE.Vector3();
  camera.getWorldPosition(cameraPos);
  
  const points = [cameraPos, worldPos];
  const lineGeom = new THREE.BufferGeometry().setFromPoints(points);
  const lineMat = new THREE.LineBasicMaterial({ 
    color: 0xffff00,
    linewidth: 5,
    depthTest: false
  });
  const line = new THREE.Line(lineGeom, lineMat);
  line.renderOrder = 1001;
  scene.add(line);
  console.log('âœ… Linea gialla aggiunta da camera a pentola');
  
  // Distanza
  const dist = cameraPos.distanceTo(worldPos);
  console.log('ğŸ“ Distanza camera-pentola:', dist.toFixed(2), 'm');
}

console.log('');
console.log('â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•');
console.log('âœ… FATTO!');
console.log('â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•');
console.log('');
console.log('ğŸ‘€ ORA DOVRESTI VEDERE:');
console.log('   ğŸ”´ Box rosso sulla pentola');
console.log('   ğŸŸ¢ Sfera verde sulla posizione world');
console.log('   ğŸŸ¡ Linea gialla dalla camera alla pentola');
console.log('');
console.log('â“ SE NON VEDI NULLA:');
console.log('   â†’ La pentola Ã¨ FUORI dal frustum della camera');
console.log('   â†’ Muoviti nella scena per cercarla');
console.log('   â†’ Guarda SOTTO e DIETRO di te');
</code>
</pre>

<h2>ğŸ¯ Cosa Fa</h2>
<ul>
    <li>ğŸ”´ <strong>Box Rosso:</strong> Contorno box della pentola</li>
    <li>ğŸŸ¢ <strong>Sfera Verde:</strong> Posizione world esatta</li>
    <li>ğŸŸ¡ <strong>Linea Gialla:</strong> Collegamento camera â†’ pentola</li>
</ul>

<p><strong>IMPORTANTE:</strong> Tutti questi oggetti usano <code>depthTest: false</code>, quindi saranno SEMPRE visibili, anche attraverso i muri!</p>

<h2>ğŸ”§ Prossimi Passi</h2>
<ol>
    <li><strong>Copia lo script sopra</strong></li>
    <li><strong>Incollalo nella Console</strong> (F12)</li>
    <li><strong>Guarda la scena</strong> - dovresti vedere oggetti colorati</li>
    <li><strong>Se NON vedi nulla:</strong> muoviti e guarda intorno (sotto/dietro)</li>
</ol>

</body>
</html>
